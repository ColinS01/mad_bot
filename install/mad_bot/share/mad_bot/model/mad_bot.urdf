<robot name="mad_bot">
    <link name="chassis">
        <inertial>
            <mass value="18"/>
            <inertia ixx="0.24" ixy="0" ixz="0" iyy="1.5" iyz="0" izz="1.74"/>
        </inertial>
        <visual>
            <geometry>
                <box size="1 0.4 0.4"/>
            </geometry>
            <material name="blue">
                <color rgba="0.5 0.5 1.0 1"/>
            </material>
        </visual>
        <collision>
            <geometry>
                <box size="1 0.4 0.4"/>
            </geometry>
        </collision>
    </link>

    <link name="left_wheel">
        <inertial>
            <mass value="2.5"/>
            <inertia ixx="0.12" ixy="0" ixz="0" iyy="0.12" iyz="0" izz="0.1"/>
        </inertial>
        <visual>
            <geometry>
                <cylinder radius="0.35" length="0.25"/>
            </geometry>
            <material name="red">
                <color rgba="0.2 0.2 0.2 1"/>
            </material>
        </visual>
        <collision>
            <geometry>
                <cylinder radius="0.35" length="0.25"/>
            </geometry>
        </collision>
    </link>

    <link name="right_wheel">
        <inertial>
            <mass value="2.5"/>
            <inertia ixx="0.12" ixy="0" ixz="0" iyy="0.12" iyz="0" izz="0.1"/>
        </inertial>
        <visual>
            <geometry>
                <cylinder radius="0.35" length="0.25"/>
            </geometry>
            <material name="red">
                <color rgba="0.2 0.2 0.2 1"/>
            </material>
        </visual>
        <collision>
            <geometry>
                <cylinder radius="0.35" length="0.25"/>
            </geometry>
        </collision>
    </link>

    <joint name="left_wheel_joint" type="revolute">
        <parent link="chassis"/>
        <child link="left_wheel"/>
        <axis xyz="0 0 1"/>
        <limit lower="-1000" upper="1000" effort="10" velocity="0"/>
    </joint>

    <joint name="right_wheel_joint" type="revolute">
        <parent link="chassis"/>
        <child link="right_wheel"/>
        <axis xyz="0 0 1"/>
        <limit lower="-1000" upper="1000" effort="10" velocity="0"/>
    </joint>

    <plugin name="gz::sim::systems::DiffDrive" filename="ignition-gazebo-diff-drive-system">
        <left_joint>left_wheel_joint</left_joint>
        <right_joint>right_wheel_joint</right_joint>
        <wheel_separation>1.5</wheel_separation>
        <wheel_radius>0.35</wheel_radius>
        <odom_publish_frequency>5</odom_publish_frequency>
        <max_linear_acceleration>2.0</max_linear_acceleration>
        <min_linear_acceleration>-2.0</min_linear_acceleration>
        <max_angular_acceleration>3.0</max_angular_acceleration>
        <min_angular_acceleration>-3.0</min_angular_acceleration>
        <max_linear_velocity>1.0</max_linear_velocity>
        <min_linear_velocity>-1.0</min_linear_velocity>
        <max_angular_velocity>2.0</max_angular_velocity>
        <min_angular_velocity>-2.0</min_angular_velocity>
    </plugin>
</robot>
